<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans leading-normal tracking-normal">
    <div class="container mx-auto my-10 p-6 bg-white shadow-lg rounded-lg">
        <h1 class="text-3xl font-bold mb-6 text-gray-900">Your Registered Events</h1>

        <div id="cart-items" class="space-y-4">
            <!-- Cart items will be dynamically loaded here -->
        </div>

        <div class="mt-6 flex justify-between items-center border-t pt-6">
            <h3 class="text-xl font-semibold">Total: ₹<span id="total-amount">0</span></h3>
            <button id="checkout-btn" class="bg-green-600 text-white font-semibold py-2 px-6 rounded-lg shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-opacity-50 transition">
                Proceed to Payment
            </button>
        </div>
    </div>

    <script>
        // Load the cart from localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Function to remove an item from the cart
        function removeFromCart(index) {
            cart.splice(index, 1); // Remove the item from the cart array
            localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
            displayCart(); // Refresh the cart display
        }

        // Display cart items and total amount
        function displayCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            const totalAmountContainer = document.getElementById('total-amount');
            let totalAmount = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = "<p class='text-gray-500'>Your cart is empty.</p>";
            } else {
                cartItemsContainer.innerHTML = ''; // Clear previous items
                cart.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('cart-item', 'flex', 'justify-between', 'items-center', 'bg-gray-100', 'p-4', 'rounded-lg', 'shadow-md');
                    itemElement.innerHTML = `
                        <p class="text-gray-700 font-medium">${item.name} - ₹${item.price}</p>
                        <button class="text-red-500 hover:text-red-700 font-semibold" onclick="removeFromCart(${index})">Remove</button>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                    totalAmount += item.price; // Add the item price to total amount
                });
                totalAmountContainer.innerText = totalAmount; // Display the total amount
            }
        }

        // Display cart when the page loads
        displayCart();

        // Checkout button (future logic for payment)
        document.getElementById('checkout-btn').addEventListener('click', () => {
            alert("Proceeding to Payment Gateway...");
            // Logic to handle payment will be added here
        });
    </script>
</body>

</html>